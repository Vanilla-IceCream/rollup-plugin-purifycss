{"version":3,"file":"rollup-plugin-purifycss.es.js","sources":["../src/index.js"],"sourcesContent":["import { createFilter } from 'rollup-pluginutils';\nimport purify from 'purify-css';\n\nexport default (options = {}) => {\n  if (!options.include) options.include = '**/*.{css,sss}';\n\n  const filter = createFilter(options.include, options.exclude);\n\n  return {\n    name: 'purifycss',\n    transform(code, id) {\n      if (!filter(id)) return;\n\n      const purifyPromise = (_content, _code, _options) => {\n        return new Promise(resolve => {\n          purify(_content, _code, _options, purifiedCSS => {\n            resolve(purifiedCSS);\n          });\n        });\n      };\n\n      return purifyPromise(options.content, code, options.options).then(purifiedCSS => {\n        return {\n          code: `export default ${purifiedCSS}`,\n          map: { mappings: '' },\n        };\n      });\n    },\n  };\n};\n"],"names":["const"],"mappings":";;;gBAGgB,OAAY,EAAE;mCAAP,GAAG;;EACxB,IAAI,CAAC,OAAO,CAAC,OAAO,IAAE,OAAO,CAAC,OAAO,GAAG,gBAAgB,GAAC;;EAEzDA,IAAM,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;;EAE9D,OAAO;IACL,IAAI,EAAE,WAAW;IACjB,6BAAS,CAAC,IAAI,EAAE,EAAE,EAAE;MAClB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAE,SAAO;;MAExBA,IAAM,aAAa,aAAI,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;QAChD,OAAO,IAAI,OAAO,WAAC,SAAQ;UACzB,MAAM,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,YAAE,aAAY;YAC5C,OAAO,CAAC,WAAW,CAAC,CAAC;WACtB,CAAC,CAAC;SACJ,CAAC,CAAC;OACJ,CAAC;;MAEF,OAAO,aAAa,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,WAAC,aAAY;QAC5E,OAAO;UACL,IAAI,uBAAoB,WAAW,CAAE;UACrC,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE;SACtB,CAAC;OACH,CAAC,CAAC;KACJ;GACF,CAAC;CACH;;;;"}